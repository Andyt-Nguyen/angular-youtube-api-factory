"use strict";angular.module("jtt_youtube",[]).factory("youtubeFactory",["$http","youtubeSearchDataService",function(e,t){var a={};return a.getVideosFromChannelById=function(a){var r=t.getNew("videosFromChannelById",a);return e({method:"GET",url:r.url,params:r.object})},a.getVideosFromSearchByString=function(a){var r=t.getNew("videosFromSearchByString",a);return e({method:"GET",url:r.url,params:r.object})},a.getVideosFromPlaylistById=function(a){var r=t.getNew("videosFromPlaylistById",a);return e({method:"GET",url:r.url,params:r.object})},a.getChannelById=function(a){var r=t.getNew("channelById",a);return e({method:"GET",url:r.url,params:r.object})},a}]).service("youtubeSearchDataService",function(){this.getYoutubeApiBaseUrl=function(e){return"https://content.googleapis.com/youtube/v3/"},this.getNew=function(e,t){var a={object:{},url:""};switch(e){case"videosFromChannelById":a.object={part:"id,snippet",type:"video",channelId:t.channelId,order:t.order||"date",key:t.key,maxResults:t.maxResults||20},t.searchString&&(a.object.q=t.q),a.url=this.getYoutubeApiBaseUrl()+"search?",t.nextPageToken&&(a.url+="pageToken="+t.nextPageToken+"&");break;case"videosFromSearchByString":a.object={part:"id,snippet",type:"video",q:t.q,order:t.order||"date",key:t.key,maxResults:t.maxResults||20},t.nextPageToken&&(a.object.pakeToken=t.nextPageToken),a.url=this.getYoutubeApiBaseUrl()+"search?",t.nextPageToken&&(a.url+="pageToken="+t.nextPageToken+"&");break;case"videosFromPlaylistById":a.object={part:"id,snippet",type:"video",playlistId:t.playlistId,key:t.key,maxResults:t.maxResults||20},t.nextPageToken&&(a.object.pakeToken=t.nextPageToken),a.url=this.getYoutubeApiBaseUrl()+"playlistItems?",t.nextPageToken&&(a.url+="pageToken="+t.nextPageToken+"&");break;case"channelById":a.object={part:"id,snippet",type:"channel",channelId:t.channelId,key:t.key,maxResults:t.maxResults||1},a.url=this.getYoutubeApiBaseUrl()+"search?",t.nextPageToken&&(a.url+="pageToken="+t.nextPageToken+"&")}return a}});